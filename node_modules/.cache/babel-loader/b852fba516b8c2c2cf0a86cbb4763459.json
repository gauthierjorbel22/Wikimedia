{"ast":null,"code":"import axios from \"axios\";\nimport NavBar from \"@/components/NavBar.vue\";\nexport default {\n  data() {\n    return {\n      searchVal: \"\",\n      projects: [],\n      isEmpty: false,\n      error: \"\"\n    };\n  },\n\n  components: {\n    NavBar\n  },\n\n  mounted() {\n    this.getProjects();\n  },\n\n  methods: {\n    async getProjects() {\n      const searchWord = this.searchVal.trim();\n      this.error = \"Please enter valid name\";\n\n      const finalWord = searchWord => {\n        return searchWord.toLowerCase().split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1));\n      };\n      /* \n      const toTitleCase = (phrase) => {\n      return phrase\n      .toLowerCase()\n      .split(' ')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ');\n      };\n      let result = toTitleCase('maRy hAd a lIttLe LaMb');\n      console.log(result);\n      */\n\n\n      try {\n        if (searchWord !== \"\") {\n          //check if the submitted link is not empty.\n          const res = await axios.get(`https://api.enterprise.wikimedia.com/v1/pages/meta/enwikivoyage/${searchWord}`);\n\n          if (res.status == 200) {\n            this.projects = res.data;\n            console.log(res);\n          }\n        } else {\n          console.log(\"Empty name\");\n          this.isEmpty = true;\n        }\n      } catch (err) {\n        console.log(err);\n\n        if (err.message == \"Request failed with status code 404\") {\n          this.error = \"Oops, we couldn't find \" + searchWord + \". Try a valid name\";\n          console.log(this.error);\n        }\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAuDA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,SAAS,EAAE,EADN;MAELC,QAAQ,EAAE,EAFL;MAGLC,OAAO,EAAE,KAHJ;MAILC,KAAK,EAAE;IAJF,CAAP;EAMD,CARY;;EASbC,UAAU,EAAE;IACVN;EADU,CATC;;EAYbO,OAAO,GAAG;IACR,KAAKC,WAAL;EACD,CAdY;;EAebC,OAAO,EAAE;IACP,MAAMD,WAAN,GAAoB;MAClB,MAAME,UAAS,GAAI,KAAKR,SAAL,CAAeS,IAAf,EAAnB;MACA,KAAKN,KAAL,GAAa,yBAAb;;MAEA,MAAMO,SAAQ,GAAKF,UAAD,IAAc;QAC9B,OAAOA,UAAS,CACfG,WADM,GAENC,KAFM,CAEA,GAFA,EAGNC,GAHM,CAGFC,IAAG,IAAKA,IAAI,CAACC,MAAL,CAAY,CAAZ,EAAeC,WAAf,KAA+BF,IAAI,CAACG,KAAL,CAAW,CAAX,CAHrC,CAAP;MAIF,CALA;MAOA;;;;;;;AAON;;AAEA;AACA;;;MAGM,IAAI;QACF,IAAIT,UAAS,KAAM,EAAnB,EAAuB;UACrB;UACA,MAAMU,GAAE,GAAI,MAAMrB,KAAK,CAACsB,GAAN,CACf,mEAAkEX,UAAW,EAD9D,CAAlB;;UAGA,IAAIU,GAAG,CAACE,MAAJ,IAAc,GAAlB,EAAuB;YACrB,KAAKnB,QAAL,GAAgBiB,GAAG,CAACnB,IAApB;YACAsB,OAAO,CAACC,GAAR,CAAYJ,GAAZ;UACF;QACF,CATA,MASO;UACLG,OAAO,CAACC,GAAR,CAAY,YAAZ;UACA,KAAKpB,OAAL,GAAe,IAAf;QACF;MACF,CAdA,CAcE,OAAOqB,GAAP,EAAY;QACZF,OAAO,CAACC,GAAR,CAAYC,GAAZ;;QACA,IAAIA,GAAG,CAACC,OAAJ,IAAe,qCAAnB,EAA0D;UACxD,KAAKrB,KAAL,GACE,4BAA4BK,UAA5B,GAAyC,oBAD3C;UAEAa,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAjB;QACF;MACF;IACD;;EA/CM;AAfI,CAAf","names":["axios","NavBar","data","searchVal","projects","isEmpty","error","components","mounted","getProjects","methods","searchWord","trim","finalWord","toLowerCase","split","map","word","charAt","toUpperCase","slice","res","get","status","console","log","err","message"],"sourceRoot":"","sources":["/home/gauthier/Documents/Vue projects/wikimedia-project/src/views/Wikivoyage.vue"],"sourcesContent":["<template>\n  <NavBar />\n  <div class=\"container mt-5\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <h5><b>Welcome to Wikivoyage</b></h5>\n        <div class=\"form-control mt-5 mb-2\">\n          <input\n            type=\"text\"\n            v-model=\"searchVal\"\n            placeholder=\"Type here...\"\n            required\n          />\n          <button class=\"btn btn-success\" @click=\"getProjects()\">Search</button>\n\n          <p class=\"text-danger mt-1\" v-show=\"isEmpty == true\">\n            <i>{{ error }}</i>\n          </p>\n\n        </div>\n        <div class=\"card\">\n          <p>\n            <b>Article Identifier:</b> <i>{{ projects.identifier }}</i>\n          </p>\n          <p>\n            <b>Article Name:</b> <i>{{ projects.name }}</i>\n          </p>\n          <p>\n            <b>Date Modified:</b> <i>{{ new Date(projects.date_modified) }}</i>\n          </p>\n          <p>\n            <b>Article Url:</b>\n            <a :href=\"projects.url\" target=\"blank\"\n              ><i>{{ projects.url }}</i></a\n            >\n          </p>\n          <b>Editor:</b>\n          <p\n            v-for=\"projectEditor in projects.version\"\n            :key=\"projectEditor.identifier\"\n          >\n            <i>{{ projectEditor.name }}</i>\n          </p>\n\n          <p class=\"mt-3\"><b>Licence:</b></p>\n          <p v-for=\"license in projects.license\" :key=\"license.identifier\">\n            {{ license.name }} - {{ license.identifier }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport NavBar from \"@/components/NavBar.vue\";\nexport default {\n  data() {\n    return {\n      searchVal: \"\",\n      projects: [],\n      isEmpty: false,\n      error: \"\",\n    };\n  },\n  components: {\n    NavBar,\n  },\n  mounted() {\n    this.getProjects();\n  },\n  methods: {\n    async getProjects() {\n      const searchWord = this.searchVal.trim();\n      this.error = \"Please enter valid name\";\n\n      const finalWord = (searchWord)=>{\n        return searchWord\n        .toLowerCase()\n        .split(' ')\n        .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n      }\n\n      /* \n      const toTitleCase = (phrase) => {\n  return phrase\n    .toLowerCase()\n    .split(' ')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ');\n};\n\nlet result = toTitleCase('maRy hAd a lIttLe LaMb');\nconsole.log(result);\n      */\n\n      try {\n        if (searchWord !== \"\") {\n          //check if the submitted link is not empty.\n          const res = await axios.get(\n            `https://api.enterprise.wikimedia.com/v1/pages/meta/enwikivoyage/${searchWord}`\n          );\n          if (res.status == 200) {\n            this.projects = res.data;\n            console.log(res);\n          }\n        } else {\n          console.log(\"Empty name\");\n          this.isEmpty = true;\n        }\n      } catch (err) {\n        console.log(err);\n        if (err.message == \"Request failed with status code 404\") {\n          this.error =\n            \"Oops, we couldn't find \" + searchWord + \". Try a valid name\";\n          console.log(this.error);\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.card {\n  background-color: whitesmoke;\n}\ninput {\n  height: 35px;\n  border: 2px solid black;\n  border-radius: 5%;\n  margin-right: 0.2%;\n}\ninput:focus {\n  border-color: green;\n}\n.text-danger{\n  font-size: 12px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}