{"ast":null,"code":"import axios from \"axios\";\nimport NavBar from \"@/components/NavBar.vue\";\nexport default {\n  data() {\n    return {\n      searchVal: \"\",\n      projects: [],\n      isEmpty: false,\n      error: \"\"\n    };\n  },\n\n  components: {\n    NavBar\n  },\n\n  mounted() {\n    this.getProjects();\n  },\n\n  methods: {\n    async getProjects() {\n      const searchWord = this.searchVal.trim();\n      this.error = \"Please enter valid name\";\n\n      try {\n        if (searchWord !== \"\") {\n          //check if the submitted link is not empty.\n          const res = await axios.get(`https://api.enterprise.wikimedia.com/v1/pages/meta/enwikivoyage/${searchWord}`);\n\n          if (res.status == 200) {\n            this.projects = res.data;\n            console.log(res);\n          }\n        } else {\n          console.log(\"Empty name\");\n          this.isEmpty = true;\n          this.error = \"Oops, we couldn't find \" + this.searchWord + \". Try a valid name\";\n        }\n      } catch (err) {\n        console.log(err);\n\n        if (err.message == \"Request failed with status code 404\") {\n          console.log(\"GOLANG AND WIKIMEDIA GO TOGETHER\");\n        }\n\n        this.error = \"\";\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqDA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,SAAS,EAAE,EADN;MAELC,QAAQ,EAAE,EAFL;MAGLC,OAAO,EAAE,KAHJ;MAILC,KAAK,EAAE;IAJF,CAAP;EAMD,CARY;;EASbC,UAAU,EAAE;IACVN;EADU,CATC;;EAYbO,OAAO,GAAG;IACR,KAAKC,WAAL;EACD,CAdY;;EAebC,OAAO,EAAE;IACP,MAAMD,WAAN,GAAoB;MAClB,MAAME,UAAS,GAAI,KAAKR,SAAL,CAAeS,IAAf,EAAnB;MACA,KAAKN,KAAL,GAAa,yBAAb;;MAEA,IAAI;QACF,IAAIK,UAAS,KAAM,EAAnB,EAAuB;UACrB;UACA,MAAME,GAAE,GAAI,MAAMb,KAAK,CAACc,GAAN,CACf,mEAAkEH,UAAW,EAD9D,CAAlB;;UAIA,IAAIE,GAAG,CAACE,MAAJ,IAAc,GAAlB,EAAuB;YACrB,KAAKX,QAAL,GAAgBS,GAAG,CAACX,IAApB;YACAc,OAAO,CAACC,GAAR,CAAYJ,GAAZ;UACF;QACF,CAVA,MAUO;UACLG,OAAO,CAACC,GAAR,CAAY,YAAZ;UACA,KAAKZ,OAAL,GAAe,IAAf;UACA,KAAKC,KAAL,GACE,4BAA4B,KAAKK,UAAjC,GAA8C,oBADhD;QAEF;MACF,CAjBA,CAiBE,OAAOO,GAAP,EAAY;QACZF,OAAO,CAACC,GAAR,CAAYC,GAAZ;;QACA,IAAIA,GAAG,CAACC,OAAJ,IAAe,qCAAnB,EAA0D;UACxDH,OAAO,CAACC,GAAR,CAAY,kCAAZ;QAEF;;QAEA,KAAKX,KAAL,GAAa,EAAb;MACF;IACD;;EA/BM;AAfI,CAAf","names":["axios","NavBar","data","searchVal","projects","isEmpty","error","components","mounted","getProjects","methods","searchWord","trim","res","get","status","console","log","err","message"],"sourceRoot":"","sources":["/home/gauthier/Documents/Vue projects/wikimedia-project/src/views/Wikivoyage.vue"],"sourcesContent":["<template>\n  <NavBar />\n  <div class=\"container mt-5\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <h5><b>Welcome to Wikivoyage</b></h5>\n        <div class=\"form-control mt-5 mb-2\">\n          <input\n            type=\"text\"\n            v-model=\"searchVal\"\n            placeholder=\"Type here...\"\n            required\n          />\n          <button class=\"btn btn-success\" @click=\"getProjects()\">Search</button>\n          <br />\n          <br />\n          <p v-show=\"isEmpty == false\">{{ error }}</p>\n        </div>\n        <div class=\"card\">\n          <p>\n            <b>Article Identifier:</b> <i>{{ projects.identifier }}</i>\n          </p>\n          <p>\n            <b>Article Name:</b> <i>{{ projects.name }}</i>\n          </p>\n          <p>\n            <b>Date Modified:</b> <i>{{ new Date(projects.date_modified) }}</i>\n          </p>\n          <p>\n            <b>Article Url:</b>\n            <a :href=\"projects.url\" target=\"blank\"\n              ><i>{{ projects.url }}</i></a\n            >\n          </p>\n          <b>Editor:</b>\n          <p\n            v-for=\"projectEditor in projects.version\"\n            :key=\"projectEditor.identifier\"\n          >\n            <i>{{ projectEditor.name }}</i>\n          </p>\n\n          <p class=\"mt-3\"><b>Licence:</b></p>\n          <p v-for=\"license in projects.license\" :key=\"license.identifier\">\n            {{ license.name }} - {{ license.identifier }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport NavBar from \"@/components/NavBar.vue\";\nexport default {\n  data() {\n    return {\n      searchVal: \"\",\n      projects: [],\n      isEmpty: false,\n      error: \"\",\n    };\n  },\n  components: {\n    NavBar,\n  },\n  mounted() {\n    this.getProjects();\n  },\n  methods: {\n    async getProjects() {\n      const searchWord = this.searchVal.trim();\n      this.error = \"Please enter valid name\";\n\n      try {\n        if (searchWord !== \"\") {\n          //check if the submitted link is not empty.\n          const res = await axios.get(\n            `https://api.enterprise.wikimedia.com/v1/pages/meta/enwikivoyage/${searchWord}`\n          );\n\n          if (res.status == 200) {\n            this.projects = res.data;\n            console.log(res);\n          }\n        } else {\n          console.log(\"Empty name\");\n          this.isEmpty = true;\n          this.error =\n            \"Oops, we couldn't find \" + this.searchWord + \". Try a valid name\";\n        }\n      } catch (err) {\n        console.log(err);\n        if (err.message == \"Request failed with status code 404\") {\n          console.log(\"GOLANG AND WIKIMEDIA GO TOGETHER\");\n          \n        }\n\n        this.error = \"\";\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.card {\n  background-color: whitesmoke;\n}\ninput {\n  height: 35px;\n  border: 2px solid black;\n  border-radius: 5%;\n  margin-right: 0.2%;\n}\ninput:focus {\n  border-color: green;\n}\n</style>"]},"metadata":{},"sourceType":"module"}