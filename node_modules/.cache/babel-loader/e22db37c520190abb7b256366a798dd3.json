{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"Login\",\n\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      error: \"\"\n    };\n  },\n\n  methods: {\n    async handleSubmit() {\n      try {\n        const response = await axios.post(\"/login\", {\n          username: this.username,\n          password: this.password\n        }, {\n          headers: {\n            \"content-type\": \"application/json\"\n          }\n        });\n\n        if (response.status == 200) {\n          if (response.data.access_token) {\n            console.log(\"my response\", response);\n            localStorage.setItem(\"access_token\", response.data.access_token);\n            this.$router.push(\"/home\");\n          }\n        }\n      } catch (err) {\n        console.log(err.response.data.message);\n        this.error = \"Incorrect username or password\";\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA4CA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;EACbC,IAAI,EAAE,OADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EADL;MAELC,QAAQ,EAAE,EAFL;MAGLC,KAAK,EAAE;IAHF,CAAP;EAKD,CARY;;EAUbC,OAAO,EAAE;IACP,MAAMC,YAAN,GAAqB;MACnB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMR,KAAK,CAACS,IAAN,CACrB,QADqB,EAErB;UACEN,QAAQ,EAAE,KAAKA,QADjB;UAEEC,QAAQ,EAAE,KAAKA;QAFjB,CAFqB,EAMrB;UAAEM,OAAO,EAAE;YAAE,gBAAgB;UAAlB;QAAX,CANqB,CAAvB;;QAQA,IAAIF,QAAQ,CAACG,MAAT,IAAmB,GAAvB,EAA4B;UAC1B,IAAIH,QAAQ,CAACN,IAAT,CAAcU,YAAlB,EAAgC;YAC9BC,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BN,QAA3B;YACAO,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCR,QAAQ,CAACN,IAAT,CAAcU,YAAnD;YACA,KAAKK,OAAL,CAAaC,IAAb,CAAkB,OAAlB;UACF;QACF;MACF,CAhBA,CAgBE,OAAOC,GAAP,EAAY;QACZN,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACX,QAAJ,CAAaN,IAAb,CAAkBkB,OAA9B;QACA,KAAKf,KAAL,GAAa,gCAAb;MACF;IACD;;EAtBM;AAVI,CAAf","names":["axios","name","data","username","password","error","methods","handleSubmit","response","post","headers","status","access_token","console","log","localStorage","setItem","$router","push","err","message"],"sourceRoot":"","sources":["/home/gauthier/Documents/Vue projects/wikimedia-project/src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <div class=\"col\">\n      <div class=\"row\">\n        <h3 class=\"\"><b>Wikimedia Enterprise</b></h3>\n      </div>\n    </div>\n    <div class=\"d-flex justify-content-center mt-3\">\n      <form class=\"mt-5\" @submit.prevent=\"handleSubmit\">\n        <div class=\"form-group mt-5\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"username\"\n            placeholder=\"Username or email address\"\n            required\n            v-model=\"username\"\n          />\n        </div>\n        <div class=\"form-group pt-3\">\n          <input\n            type=\"password\"\n            class=\"form-control\"\n            id=\"password\"\n            placeholder=\"Password\"\n            required\n            v-model=\"password\"\n          />\n        </div>\n        <p class=\"text-danger\"><i>{{error}}</i></p>\n        <div class=\"pt-3\">\n          <input type=\"submit\" value=\"login\" class=\"btn btn-success\" />\n        </div>\n        <p class=\"\"><i>you need to have a valid wikimedia account</i></p>\n      </form>\n    </div>\n    <img\n      src=\"https://media0.giphy.com/media/MT93VRr8gheXETA1V0/giphy.gif?cid=6c09b952lnetymlao1vez64h7angkew7mcmrtfnhz3pwhjkg&rid=giphy.gif&ct=s\"\n      alt=\"\"\n    />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      error: \"\",\n    };\n  },\n\n  methods: {\n    async handleSubmit() {\n      try {\n        const response = await axios.post(\n          \"/login\",\n          {\n            username: this.username,\n            password: this.password,\n          },\n          { headers: { \"content-type\": \"application/json\" } }\n        );\n        if (response.status == 200) {\n          if (response.data.access_token) {\n            console.log(\"my response\", response);\n            localStorage.setItem(\"access_token\", response.data.access_token);\n            this.$router.push(\"/home\");\n          }\n        }\n      } catch (err) {\n        console.log(err.response.data.message);\n        this.error = \"Incorrect username or password\";\n      }\n    },\n  },\n};\n</script>\n\n<style>\nform {\n  width: 500px;\n  background-color: rgb(192, 238, 192);\n  height: 270px;\n  padding: 20px;\n  border-radius: 3%;\n}\nimg {\n  height: 250px;\n  width: 250px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}