{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-5\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"row\"\n}, [/*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Wikimedia Enterprise\")])])], -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  class: \"d-flex justify-content-center mt-3\"\n};\nconst _hoisted_4 = {\n  class: \"form-group mt-5\"\n};\nconst _hoisted_5 = {\n  class: \"form-group pt-3\"\n};\nconst _hoisted_6 = {\n  class: \"text-danger\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"pt-3\"\n}, [/*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"submit\",\n  value: \"login\",\n  class: \"btn btn-success\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"mt-3\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", null, \"you need to have a valid wikimedia account\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"\"\n}, \"create \", -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"https://media0.giphy.com/media/MT93VRr8gheXETA1V0/giphy.gif?cid=6c09b952lnetymlao1vez64h7angkew7mcmrtfnhz3pwhjkg&rid=giphy.gif&ct=s\",\n  alt: \"\"\n}, null, -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", {\n    class: \"mt-5\",\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.handleSubmit && $options.handleSubmit(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"username\",\n    placeholder: \"Username or email address\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.username = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.username]])]), _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    id: \"password\",\n    placeholder: \"Password\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.password]])]), _createElementVNode(\"p\", _hoisted_6, [_createElementVNode(\"i\", null, _toDisplayString($data.error), 1\n  /* TEXT */\n  )]), _hoisted_7, _hoisted_8, _hoisted_9], 32\n  /* HYDRATE_EVENTS */\n  )]), _hoisted_10]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;;;gCACTC,oBAIM,KAJN,EAIM;EAJDD,KAAK,EAAC;AAIL,CAJN,EAAgB,cACdC,oBAEM,KAFN,EAEM;EAFDD,KAAK,EAAC;AAEL,CAFN,EAAgB,cACdC,oBAA6C,IAA7C,EAA6C;EAAzCD,KAAK,EAAC;AAAmC,CAA7C,EAAY,cAACC,oBAA2B,GAA3B,EAA2B,IAA3B,EAAG,sBAAH,CAAD,CAAZ,CADc,CAAhB,CADc,CAAhB;;AAAA;;;EAKKD,KAAK,EAAC;;;EAEFA,KAAK,EAAC;;;EAUNA,KAAK,EAAC;;;EAURA,KAAK,EAAC;;;gCACTC,oBAEM,KAFN,EAEM;EAFDD,KAAK,EAAC;AAEL,CAFN,EAAiB,cACfC,oBAA6D,OAA7D,EAA6D;EAAtDC,IAAI,EAAC,QAAiD;EAAxCC,KAAK,EAAC,OAAkC;EAA1BH,KAAK,EAAC;AAAoB,CAA7D,CADe,CAAjB;;AAAA;;gCAGAC,oBAAqE,GAArE,EAAqE;EAAlED,KAAK,EAAC;AAA4D,CAArE,EAAe,cAACC,oBAAiD,GAAjD,EAAiD,IAAjD,EAAG,4CAAH,CAAD,CAAf;;AAAA;;gCACAA,oBAAsB,GAAtB,EAAsB;EAAnBG,IAAI,EAAC;AAAc,CAAtB,EAAW,SAAX,EAAkB;AAAA;AAAlB;;iCAGJH,oBAGE,KAHF,EAGE;EAFAI,GAAG,EAAC,qIAEJ;EADAC,GAAG,EAAC;AACJ,CAHF;;AAAA;;;uBApCFC,oBAwCM,KAxCN,cAwCM,CAvCJC,UAuCI,EAlCJP,oBA6BM,KA7BN,cA6BM,CA5BJA,oBA2BO,MA3BP,EA2BO;IA3BDD,KAAK,EAAC,MA2BL;IA3BaS,QAAM,wDAAUC,uDAAV,EAAsB,WAAtB;EA2BnB,CA3BP,GACET,oBASM,KATN,cASM,iBARJA,oBAOE,OAPF,EAOE;IANAC,IAAI,EAAC,MAML;IALAF,KAAK,EAAC,cAKN;IAJAW,EAAE,EAAC,UAIH;IAHAC,WAAW,EAAC,2BAGZ;IAFAC,QAAQ,EAAR,EAEA;+DADSC,iBAAQC;EACjB,CAPF;;EAAA,kBAMWD,iBAEP,CATN,GAUAb,oBASM,KATN,cASM,iBARJA,oBAOE,OAPF,EAOE;IANAC,IAAI,EAAC,UAML;IALAF,KAAK,EAAC,cAKN;IAJAW,EAAE,EAAC,UAIH;IAHAC,WAAW,EAAC,UAGZ;IAFAC,QAAQ,EAAR,EAEA;+DADSC,iBAAQC;EACjB,CAPF;;EAAA,kBAMWD,iBAEP,CATN,GAUAb,oBAA2C,GAA3C,cAA2C,CAApBA,oBAAgB,GAAhB,EAAgB,IAAhB,EAAgBe,iBAAXF,WAAW,CAAhB,EAAU;EAAA;EAAV,CAAoB,CAA3C,GACAG,YAGAC,YACAC,WA1BF;;EAAA,CA4BI,CA7BN,CAkCI,EAJJC,WAII,CAxCN","names":["class","_createElementVNode","type","value","href","src","alt","_createElementBlock","_hoisted_2","onSubmit","$options","id","placeholder","required","$data","$event","_toDisplayString","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10"],"sourceRoot":"","sources":["/home/gauthier/Documents/Vue projects/wikimedia-project/src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <div class=\"col\">\n      <div class=\"row\">\n        <h3 class=\"\"><b>Wikimedia Enterprise</b></h3>\n      </div>\n    </div>\n    <div class=\"d-flex justify-content-center mt-3\">\n      <form class=\"mt-5\" @submit.prevent=\"handleSubmit\">\n        <div class=\"form-group mt-5\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"username\"\n            placeholder=\"Username or email address\"\n            required\n            v-model=\"username\"\n          />\n        </div>\n        <div class=\"form-group pt-3\">\n          <input\n            type=\"password\"\n            class=\"form-control\"\n            id=\"password\"\n            placeholder=\"Password\"\n            required\n            v-model=\"password\"\n          />\n        </div>\n        <p class=\"text-danger\"><i>{{error}}</i></p>\n        <div class=\"pt-3\">\n          <input type=\"submit\" value=\"login\" class=\"btn btn-success\" />\n        </div>\n        <p class=\"mt-3\"><i>you need to have a valid wikimedia account</i></p>\n        <a href=\"\">create </a>\n      </form>\n    </div>\n    <img\n      src=\"https://media0.giphy.com/media/MT93VRr8gheXETA1V0/giphy.gif?cid=6c09b952lnetymlao1vez64h7angkew7mcmrtfnhz3pwhjkg&rid=giphy.gif&ct=s\"\n      alt=\"\"\n    />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      error: \"\",\n    };\n  },\n\n  methods: {\n    async handleSubmit() {\n      try {\n        const response = await axios.post(\n          \"/login\",\n          {\n            username: this.username,\n            password: this.password,\n          },\n          { headers: { \"content-type\": \"application/json\" } }\n        );\n        if (response.status == 200) {\n          if (response.data.access_token) {\n            console.log(\"my response\", response);\n            localStorage.setItem(\"access_token\", response.data.access_token);\n            this.$router.push(\"/home\");\n          }\n        }\n      } catch (err) {\n        console.log(err.response.data.message);\n        this.error = \"Incorrect username or password\";\n      }\n    },\n  },\n};\n</script>\n\n<style>\nform {\n  width: 500px;\n  background-color: rgb(192, 238, 192);\n  height: 300px;\n  padding: 20px;\n  border-radius: 3%;\n}\nimg {\n  height: 250px;\n  width: 250px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}