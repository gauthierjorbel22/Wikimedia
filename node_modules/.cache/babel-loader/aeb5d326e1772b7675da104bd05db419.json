{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_2 = {\n  class: \"col\"\n};\nconst _hoisted_3 = {\n  class: \"row\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"\"\n}, \"Wikimedia Enterprise\", -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"d-flex justify-content-center mt-5\"\n};\nconst _hoisted_6 = {\n  class: \"form-group mt-5\"\n};\nconst _hoisted_7 = {\n  class: \"form-group pt-3\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"pt-3\"\n}, [/*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"submit\",\n  value: \"login\",\n  class: \"btn btn-success\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"https://media0.giphy.com/media/MT93VRr8gheXETA1V0/giphy.gif?cid=6c09b952lnetymlao1vez64h7angkew7mcmrtfnhz3pwhjkg&rid=giphy.gif&ct=s\",\n  alt: \"\"\n}, null, -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createTextVNode(\" \" + _toDisplayString($options.myMethod()), 1\n  /* TEXT */\n  )])]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n    class: \"mt-5\",\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.handleSubmit && $options.handleSubmit(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"username\",\n    placeholder: \"Username or email address\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.username = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.username]])]), _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    id: \"password\",\n    placeholder: \"Password\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.password]])]), _hoisted_8], 32\n  /* HYDRATE_EVENTS */\n  )]), _createElementVNode(\"div\", null, _toDisplayString($data.username) + \": \" + _toDisplayString($data.password), 1\n  /* TEXT */\n  ), _hoisted_9]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;gCACTC,oBAAsC,IAAtC,EAAsC;EAAlCD,KAAK,EAAC;AAA4B,CAAtC,EAAa,sBAAb,EAAiC;AAAA;AAAjC;;;EAICA,KAAK,EAAC;;;EAEFA,KAAK,EAAC;;;EAINA,KAAK,EAAC;;;gCAIXC,oBAEM,KAFN,EAEM;EAFDD,KAAK,EAAC;AAEL,CAFN,EAAiB,cACfC,oBAA4D,OAA5D,EAA4D;EAArDC,IAAI,EAAC,QAAgD;EAAvCC,KAAK,EAAC,OAAiC;EAAzBH,KAAK,EAAC;AAAmB,CAA5D,CADe,CAAjB;;AAAA;;gCAMJC,oBAEW,KAFX,EAEW;EADTG,GAAG,EAAC,qIACK;EAATC,GAAG,EAAC;AAAK,CAFX;;AAAA;;;uBAvBFC,oBA0BM,KA1BN,cA0BM,CAzBJL,oBAKM,KALN,cAKM,CAJJA,oBAGM,KAHN,cAGM,CAFJM,UAEI,mBAFkC,MACtCC,iBAAEC,mBAAF,GAAU;EAAA;GACN,CAHN,CAII,CALN,CAyBI,EAnBJR,oBAcM,KAdN,cAcM,CAbJA,oBAYO,MAZP,EAYO;IAZDD,KAAK,EAAC,MAYL;IAZaU,QAAM,wDAAUD,uDAAV,EAAsB,WAAtB;EAYnB,CAZP,GACER,oBAGM,KAHN,cAGM,iBAFJA,oBACuB,OADvB,EACuB;IADhBC,IAAI,EAAC,MACW;IADJF,KAAK,EAAC,cACF;IADiBW,EAAE,EAAC,UACpB;IAD+BC,WAAW,EAAC,2BAC3C;IADuEC,QAAQ,EAAR,EACvE;+DAAZC,iBAAQC;EAAI,CADvB;;EAAA,kBACWD,iBACP,CAHN,GAIAb,oBAGM,KAHN,cAGM,iBAFJA,oBACuB,OADvB,EACuB;IADhBC,IAAI,EAAC,UACW;IADAF,KAAK,EAAC,cACN;IADqBW,EAAE,EAAC,UACxB;IADmCC,WAAW,EAAC,UAC/C;IAD0DC,QAAQ,EAAR,EAC1D;+DAAZC,iBAAQC;EAAI,CADvB;;EAAA,kBACWD,iBACP,CAHN,GAIAE,WATF;;EAAA,CAaI,CAdN,CAmBI,EAJJf,oBAAyC,KAAzC,EAAyC,IAAzC,EAAyCO,iBAAjCM,cAAiC,IAAtB,IAAsB,GAApBN,iBAAGM,cAAH,CAArB,EAAgC;EAAA;EAAhC,CAII,EAHJG,UAGI,CA1BN","names":["class","_createElementVNode","type","value","src","alt","_createElementBlock","_hoisted_4","_toDisplayString","$options","onSubmit","id","placeholder","required","$data","$event","_hoisted_8","_hoisted_9"],"sourceRoot":"","sources":["/home/gauthier/Documents/Vue projects/wikimedia-project/src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <div class=\"col\">\n      <div class=\"row\">\n        <h3 class=\"\">Wikimedia Enterprise</h3>\n        {{myMethod()}}\n      </div>\n    </div>\n    <div class=\"d-flex justify-content-center mt-5\">\n      <form class=\"mt-5\" @submit.prevent=\"handleSubmit\">\n        <div class=\"form-group mt-5\">\n          <input type=\"text\" class=\"form-control\" id=\"username\" placeholder=\"Username or email address\" required\n            v-model=\"username\" />\n        </div>\n        <div class=\"form-group pt-3\">\n          <input type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Password\" required\n            v-model=\"password\" />\n        </div>\n        <div class=\"pt-3\">\n          <input type=\"submit\" value=\"login\" class=\"btn btn-success\"/>\n        </div>\n      </form>\n    </div>\n    <div>{{ username }}: {{ password }}</div>\n    <img\n      src=\"https://media0.giphy.com/media/MT93VRr8gheXETA1V0/giphy.gif?cid=6c09b952lnetymlao1vez64h7angkew7mcmrtfnhz3pwhjkg&rid=giphy.gif&ct=s\"\n      alt=\"\" />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n    };\n  },\n \n  methods: {\n    async handleSubmit() {\n      const response = await axios.post(\n        \"/login\",\n        {\n          username: this.username,\n          password: this.password,\n        },\n        { headers: { \"content-type\": \"application/json\" } }\n      );\n      localStorage.setItem(\"access_token\", response.data.access_token);\n    \n      \n      if (response.data.access_token) {\n        this.$router.push('/home');\n      }\n      else if (!response.data.access_token) {\n        console.log(\"incorrect username or password\");\n        console.log(\"error:\", error)\n      }\n      // console.log(response);\n      // alert(response.data.refresh_token);\n    },\n    myMethod() {\n      return this.username, \" \", this.password;\n\n    },\n  },\n};\n</script>\n\n<style>\nform {\n  width: 500px;\n  background-color: red;\n  height: 200px;\n}\ninput{\n  max: 50px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}